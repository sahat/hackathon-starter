extends ../layout

block content
  h2
    i.fas.fa-images.fa-sm.me-2
    | GIPHY API

  .btn-group.d-flex(role='group')
    a.btn.btn-primary.w-100(href='https://developers.giphy.com/docs/api/', target='_blank')
      i.far.fa-check-square.fa-sm.me-2
      | GIPHY API Docs
    a.btn.btn-primary.w-100(href='https://developers.giphy.com/dashboard/', target='_blank')
      i.fas.fa-laptop.fa-sm.me-2
      | GIPHY Developer Dashboard
  br

  .card.text-white.bg-info.mb-4
    .card-header
      h6.panel-title.mb-0 Search GIPHY GIFs
    .card-body.text-dark.bg-white
      form(role='form', method='GET', action='/api/giphy')
        .form-group.mb-3
          label.col-form-label.font-weight-bold Search Term
          input.form-control(type='text', name='search', placeholder='Search for GIFs', value=search || '', required)
        .d-flex.mt-2.align-items-center
          button.btn.btn-primary(type='submit')
            i.fas.fa-search.me-2
            | Search
          img.ms-auto(src='https://i.imgur.com/B8SZtl2.png', alt='Powered by GIPHY', style='height: 40px')

  if gifs.length
    .card.text-white.bg-success.mb-4
      .card-header
        h6.panel-title.mb-0 Results for "#{ search }"
      .card-body.text-dark.bg-white
        .row
          each gif in gifs
            .col-md-4
              .card.mb-4
                img.card-img-top.img-fluid.rounded(style='width: 100%; height: 300px; object-fit: cover', src=gif.url, alt=gif.title)
  else
    .alert.alert-warning.mt-3 No GIFs found for "#{ search }".
